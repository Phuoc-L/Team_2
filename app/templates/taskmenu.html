<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">

        <title> Task Menu </title>
        <style>
            h1 {text-align: center;}
            p {text-align: center;}
            td {text-align: center}
            table {border-spacing: 30px;}
            .center {
                margin-left: auto;
                margin-right: auto;
            }
        </style>
    </head>
    <body>
    <div class="content">
        <h1> TaskMate </h1>
        <a href='/Logout'><p>Log out</p></a>
        <a href='/team'><p>Manage Team</p></a>
        <form action="" method="post" novalidate>
            {{ form.hidden_tag() }}
            <p>
                {{ form.task_name.label }}<br>
                {{ form.task_name(size=32) }}
            </p>
                    <p>
                {{ form.deadline.label }}<br>
                {{ form.deadline(size=32) }}
            </p>
            <p>
                {{ form.task_description.label }}<br>
                {{ form.task_description(size=128) }}
            </p>
            <p>{{ form.submit() }}</p>
        </form>

        <table class="center">
            <tr>
                <th>Task Name</th>
                <th>Completed</th>
                <th>Date Completed</th>
                <th>Assigned Team</th>
                <th>Actions</th>
            </tr>
            {% for post in posts %}
            <tr>
                <td>
                    {{ post.Name }}
                </td>
                <td>
                    {% if post.completed == 'False' %}
                        Not Completed
                    {% else %}
                        Completed
                    {% endif %}
                </td>
                <td>
                    {% if post.completed == 'True' %}
                        {{ post.datecompleted }}
                    {% endif %}
                </td>
                <td>
                    {{ post.team }}
                </td>
                <td>
                    <a href="/deletetask/{{ post.id }}">Delete Task</a>
                    {% if post.completed == 'False' %}
                        <a href="/checktask/{{ post.id }}">Check Task</a>
                    {% else %}
                        <a href="/unchecktask/{{ post.id }}">Uncheck Task</a>
                    {% endif %}
                    <a href="/edit/{{ post.id }}">Edit Task</a>
                    <a href="/taskinfo/{{ post.id }}">View Task Info</a>
                    <a href="/AssignTask/{{ post.id }}">Assign Task</a>
                </td>
            </tr>  
            {% endfor %}
        
        </table>
        <th></th>
    </div>    
    </body>
</html>